# TXOne StellarOne / StellarProtect 導入・運用手順

## 構築

### TXOne StellarOne (txso)
StellarProtect エージェントを集中管理するサーバー

- **準備**
  - システム要件を満たした PC を用意
  - TXOne StellarOne 管理サーバーをデプロイするための仮想イメージファイルを入手(サポートから入手))
  - StellarOne がインターネット接続可能であること

- **手順**
  1. **システム要件の確認**
     - ハードウェア
     - ハイパーバイザー
     - ブラウザ
  2. **サーバーとエージェント通信**
     - 使用するポート
     - FQDN 名
     - ネットワーク
  3. **初回ログイン資格情報**
  4. **ライセンスアクティベーション**
  5. **NTP 同期**
  6. **プロキシ設定**
     - StellarOne が TXOne のアップデートサーバーからコンポーネントをダウンロードする際に使用
  7. **アップデートスケジュール**
     - 日 / 週 / 月単位で更新頻度を設定
  8. **アカウント管理**
     - StellarOne 管理サーバー画面にアクセスするユーザーアカウントを作成
  9. **エージェントのインストーラパッケージをダウンロード**
     - クライアントにインストールする前に入手（ライセンス情報含む）

### TXOne StellarProtect (txsp)
- 管理サーバーからダウンロードしたインストーラパッケージをクライアント端末で実行
- StellarProtect エージェントをインストール
- インストール後は管理サーバーによりライセンス等が自動適用される
- StellarOne と接続できると容易

- **補足**
  - StellarOne がインターネット接続し、TXOne のアップデートサーバーから最新のコンポーネント(シグネチャ等)をダウンロードする。  
  - その結果、各クライアントの StellarProtect が最新状態に更新されていくイメージとなる。

### ネットワーク未接続時
- **TXOne Portable Inspector** を使用

---

## 運用 (StellarOne による管理)

### 1. ポリシーの更新間隔設定
- **目的**: エージェントが StellarOne から最新のセキュリティ設定を受信する頻度を設定
- **確認方法**
  - **StellarOne 管理画面**
    - [管理] > [ポリシーの更新間隔を設定]
    - [ダッシュボード] > [Asset Management] > [配信ステータス]
    - [エージェント] 画面の [ポリシーの継承] 列が「継承済み」であること
  - **StellarProtect クライアント**
    - [操作] > [同期] ボタンで手動同期
    - [前回の手動同期日時] が更新されることを確認

### 2. アプリケーション制御
- **目的**: 許可アプリのみ実行し、その他をブロック
- **確認方法**
  - **StellarOne 管理画面**
    - [ダッシュボード] > [Asset Management] > [Application Lockdown Settings]
    - [エージェント] 画面の [保護] 列に鍵アイコン
    - [ログ] > [エージェントイベント]（イベントID 1002, 1003）
  - **StellarProtect クライアント**
    - [概要] > [アプリケーション制御] スイッチがオン
    - [許可リスト] に許可アプリが表示される

### 3. マルチメソッドの脅威対策
- **目的**: 既知・未知のマルウェアをリアルタイム／定期的にスキャンし防御
- **確認方法**
  - **StellarOne 管理画面**
    - [ダッシュボード] > [Asset Management] > [Real Time Scan Settings]
    - [エージェント] 画面の [保護] 列に盾アイコン
    - [ポリシー] ページでリアルタイム／予約検索の設定
    - [ログ] > [エージェントイベント]（イベントID 6005, 6009）
  - **StellarProtect クライアント**
    - [概要] > [リアルタイム検索] スイッチがオン

### 4. 操作の挙動異常検知 (CPSDR)
- **目的**: 通常の振る舞いを学習し、異常な挙動を検知・阻止（ランサムウェア対策など）
- **確認方法**
  - **StellarOne 管理画面**
    - [ダッシュボード] > [Security Monitoring] > [サイバーフィジカルシステムセキュリティの動的表示]
    - [エージェント] 画面の [操作の挙動異常検知] 列でモード確認（学習/検出/施行/無効）
    - [ポリシー] ページでモード・学習期間・保護機能設定を確認
    - [状況認識機能] ページで学習されたベースラインフィンガープリントを確認
    - [ログ] > [エージェントイベント]（イベントID 4864, 4865）
  - **StellarProtect クライアント**
    - [設定] > モードや保護機能の有効/無効を確認

### 5. OTアプリケーション保護
- **目的**: OT アプリの不正変更を防止しつつ、正規アップデートは許可
- **確認方法**
  - **StellarOne 管理画面**
    - [エージェント] 画面の [保護] 列に OT アプリ保護アイコン
    - [ポリシー] ページで有効/無効やユーザー定義防御を確認
    - [状況認識機能] ページで認識された OT アプリのリストを確認
  - **StellarProtect クライアント**
    - [OT アプリケーション] 画面でリストと詳細を確認
  - **注意**: 新しい OT アプリ導入前は「メンテナンスモード」と「操作の挙動異常検知の学習モード」を有効にすることが推奨
